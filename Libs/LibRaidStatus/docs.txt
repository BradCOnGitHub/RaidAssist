

Callbacks available

"CooldownListUpdate": triggers when the lib received a list of cooldowns from another player in the group.

function MyAddonObject.OnReceiveCooldownListUpdate(unitName, cooldownTable)
    --foreach player in the cooldown table
    for unitName, playerCooldownTable in pairs(cooldownTable) do
        for spellId, cooldownInfoTable in pairs(playerCooldownTable) do
            --if timeLeft is zero, the spell is ready
            local timeLeft = cooldownInfoTable[1]
            --in some cases the spell is on cooldown but there's a charge to use
            local charges = cooldownInfoTable[2]
        end
    end

    --get the cooldowns for the unit which got the cooldown update
    local unitCooldownTable = cooldownTable[unitName]
    for spellId, cooldownInfoTable in pairs(unitCooldownTable) do
        --if timeLeft is zero, the spell is ready
        local timeLeft = cooldownInfoTable[1]
        --in some cases the spell is on cooldown but there's a charge to use
        local charges = cooldownInfoTable[2]
    end
end
raidStatusLib.RegisterCallback(MyAddonObject, "CooldownListUpdate", "OnReceiveCooldownListUpdate")


"CooldownUpdate": triggered when any unit in the group used a cooldown or the timeleft got an update

function MyAddonObject.OnReceiveCooldownUpdate(unitName, spellId, cooldownTimeLeft, charges, playerCooldownTable)
    local unitCooldowns = cooldownTable[unitName]
    local cooldownTimeLeft2 = unitCooldowns[spellId]
    print("is iqual:", cooldownTimeLeft == cooldownTimeLeft2)

    --get the cooldowns for the unit which got the cooldown update
    for spellId, cooldownInfoTable in pairs(playerCooldownTable) do
        --if timeLeft is zero, the spell is ready
        local timeLeft = cooldownInfoTable[1]
        --in some cases the spell is on cooldown but there's a charge to use
        local charges = cooldownInfoTable[2]
    end
end
raidStatusLib.RegisterCallback(MyAddonObject, "CooldownUpdate", "OnReceiveCooldownUpdate")


"CooldownListWiped": when the list of cooldowns get a wipe, usually when the player leave the group

function MyAddonObject.OnCooldownListWipe(cooldownTable)
    print ("is nil:", next(cooldownTable))
end
raidStatusLib.RegisterCallback(MyAddonObject, "CooldownListWiped", "OnCooldownListWipe")


